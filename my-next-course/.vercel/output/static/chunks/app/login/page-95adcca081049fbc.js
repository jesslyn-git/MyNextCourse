(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{11108:(e,a,t)=>{Promise.resolve().then(t.bind(t,27527))},76046:(e,a,t)=>{"use strict";var s=t(66658);t.o(s,"useRouter")&&t.d(a,{useRouter:function(){return s.useRouter}})},27527:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>d});var s=t(95155),n=t(12115),l=t(76046),r=t(72110),i=t(48173),o=t.n(i),c=t(18281),u=t(5565);function d(){let e=(0,l.useRouter)(),[a,t]=(0,n.useState)({email:"testuser1@mail.com",password:"123456"}),[,i]=(0,n.useState)(!1);(0,n.useEffect)(()=>{let e=()=>{i("true"===localStorage.getItem("isLoggedIn"))};return window.addEventListener("auth-change",e),e(),()=>{window.removeEventListener("auth-change",e)}},[]);let d=e=>{t({...a,[e.target.name]:e.target.value})};async function h(t){console.log("\uD83D\uDE80 ~ handleChange ~ formData:",a),t.preventDefault();let s=await fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!s.ok){r.oR.error("Login failed. Please check your credentials.");return}let n=await s.json();console.log("\uD83D\uDE80 ~ handleLogin ~ data:",n),localStorage.setItem("user",n.name),localStorage.setItem("isLoggedIn","true"),r.oR.success("Successfully logged in!"),window.dispatchEvent(new Event("auth-change")),e.push("/")}return(0,s.jsx)("div",{className:"flex justify-center items-center min-h-screen bg-gray-100",children:(0,s.jsxs)(c.Card,{className:"w-96",children:[(0,s.jsx)(c.CardHeader,{variant:"gradient",color:"blue",className:"mb-4 grid h-28 place-items-center",children:(0,s.jsx)(c.Typography,{variant:"h3",color:"white",children:"Sign In"})}),(0,s.jsxs)(c.CardBody,{className:"flex flex-col gap-4 p-6",children:[(0,s.jsxs)("form",{onSubmit:h,className:"flex flex-col gap-4",children:[(0,s.jsx)(c.Input,{type:"email",label:"Email",name:"email",size:"lg",value:a.email,onChange:d,required:!0}),(0,s.jsx)(c.Input,{type:"password",label:"Password",name:"password",size:"lg",value:a.password,onChange:d,required:!0}),(0,s.jsx)(c.Button,{type:"submit",variant:"gradient",fullWidth:!0,children:"Sign In"})]}),(0,s.jsx)(c.Typography,{variant:"small",className:"mt-2 text-center",children:(0,s.jsxs)(s.Fragment,{children:["Don't have an account?"," ",(0,s.jsx)(o(),{href:"/register",className:"font-bold text-blue-500 hover:text-blue-700",children:"Sign up"})]})}),(0,s.jsx)(c.Typography,{variant:"small",className:"mt-1 text-center",children:(0,s.jsxs)(s.Fragment,{children:["Continue without login:"," ",(0,s.jsx)(o(),{href:"/",className:"font-bold text-blue-500 hover:text-blue-700",children:"Explore My Next Course"})]})}),(0,s.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,s.jsx)("div",{className:"h-px flex-1 bg-gray-300"}),(0,s.jsx)(c.Typography,{variant:"small",color:"gray",children:"or continue with"}),(0,s.jsx)("div",{className:"h-px flex-1 bg-gray-300"})]}),(0,s.jsxs)(c.Button,{variant:"outlined",color:"blue-gray",className:"flex items-center justify-center gap-3",children:[(0,s.jsx)(u.default,{src:"/google.svg",alt:"google",className:"h-5 w-5",width:20,height:20}),"Continue with Google"]})]})]})})}}},e=>{var a=a=>e(e.s=a);e.O(0,[103,565,242,110,173,441,517,358],()=>a(11108)),_N_E=e.O()}]);